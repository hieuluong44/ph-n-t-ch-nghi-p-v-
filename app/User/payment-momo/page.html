<!DOCTYPE html>
<html lang="en" style="--footer-header-height: 175px">
  <head>
    <title>Cổng thanh toán MoMo</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="MoMo Payment" />
    <meta
      property="og:description"
      content="Nhà cung cấp: MoMo Payment. 
        Mã đơn hàng: 47fc3e57-229e-4707-9093-cd6100ae388d. 
        Số tiền: 7.900.000. 
        Mô tả: Thanh toán vé sự kiện"
    />
    <meta property="og:image:width" content="800" />
    <meta property="og:image:height" content="366" />
    <meta
      property="og:image"
      content="https://static.momocdn.net/app/media/payment/banner.jpg"
    />
    <link
      href="//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900italic,900"
      rel="stylesheet"
    />
    <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.5.3/css/bootstrap.min.css"
    />
    <link media="screen" rel="stylesheet" href="/v2/gateway/css/core.css" />
    <link href="/v2/gateway/images/icons/momo.ico" rel="SHORTCUT ICON" />
    <link
      rel="stylesheet"
      href="/Ticket_Concert FE/app/User/payment-momo/payment.css"
    />
    <script
      crossorigin="anonymous"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      src="https://code.jquery.com/jquery-3.5.1.min.js"
    ></script>
    <!--    <script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazyload/2.0.3/lazyload.js"></script>

    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <meta name="_csrf" content="29c3e243-c961-4969-b568-3be976987e78" />

    <!-- default header name is X-CSRF-TOKEN -->

    <meta name="_csrf_header" content="X-CSRF-TOKEN" />

    <link media="screen" rel="stylesheet" href="/v2/gateway/css/payment.css" />

    <link media="screen" rel="stylesheet" href="/v2/gateway/css/qr.css" />

    <link
      media="screen"
      rel="stylesheet"
      href="/v2/gateway/css/pay_info-v2.css"
    />

    <link
      media="screen"
      rel="stylesheet"
      href="/v2/gateway/css/pay_info-v2.css"
    />

    <link media="screen" rel="stylesheet" href="/v2/gateway/css/guide.css" />
  </head>
  <body>
    <header id="header">
      <div class="container">
        <div class="header-wrapper">
          <div class="logo-wrap">
            <a class="navbar-brand momo-logo">
              <svg
                class="svg-icon fill-current imgLogo"
                fill="#fff"
                height="87"
                viewBox="0 0 96 87"
                width="96"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M75.5326 0C64.2284 0 55.0651 8.74843 55.0651 19.5409C55.0651 30.3333 64.2284 39.0818 75.5326 39.0818C86.8368 39.0818 96 30.3333 96 19.5409C96 8.74843 86.8368 0 75.5326 0ZM75.5326 27.8805C70.7368 27.8805 66.8403 24.1604 66.8403 19.5818C66.8403 15.0031 70.7368 11.283 75.5326 11.283C80.3283 11.283 84.2248 15.0031 84.2248 19.5818C84.2248 24.1604 80.3283 27.8805 75.5326 27.8805ZM49.1561 14.6761V39.1226H37.3809V14.5535C37.3809 12.7138 35.8394 11.2421 33.9126 11.2421C31.9857 11.2421 30.4442 12.7138 30.4442 14.5535V39.1226H18.669V14.5535C18.669 12.7138 17.1276 11.2421 15.2007 11.2421C13.2739 11.2421 11.7324 12.7138 11.7324 14.5535V39.1226H0V14.6761C0 6.58176 6.89385 0 15.372 0C18.8403 0 22.0089 1.10377 24.5781 2.9434C27.1472 1.10377 30.3586 0 33.7841 0C42.2623 0 49.1561 6.58176 49.1561 14.6761ZM75.5326 47.544C64.2284 47.544 55.0651 56.2925 55.0651 67.0849C55.0651 77.8774 64.2284 86.6258 75.5326 86.6258C86.8368 86.6258 96 77.8774 96 67.0849C96 56.2925 86.8368 47.544 75.5326 47.544ZM75.5326 75.4245C70.7368 75.4245 66.8403 71.7044 66.8403 67.1258C66.8403 62.5472 70.7368 58.827 75.5326 58.827C80.3283 58.827 84.2248 62.5472 84.2248 67.1258C84.2248 71.7044 80.3283 75.4245 75.5326 75.4245ZM49.1561 62.2201V86.6667H37.3809V62.0975C37.3809 60.2579 35.8394 58.7862 33.9126 58.7862C31.9857 58.7862 30.4442 60.2579 30.4442 62.0975V86.6667H18.669V62.0975C18.669 60.2579 17.1276 58.7862 15.2007 58.7862C13.2739 58.7862 11.7324 60.2579 11.7324 62.0975V86.6667H0V62.2201C0 54.1258 6.89385 47.544 15.372 47.544C18.8403 47.544 22.0089 48.6478 24.5781 50.4874C27.1472 48.6478 30.3158 47.544 33.7841 47.544C42.2623 47.544 49.1561 54.1258 49.1561 62.2201Z"
                  fill=""
                ></path>
              </svg>
            </a>
            <span class="logo-title">Cổng thanh toán MoMo</span>
          </div>
        </div>
      </div>
    </header>
    <div class="payment-container">
      <div></div>
      <div class="container" id="contents">
        <div
          class="modal-background modal momoModal"
          id="paymentModal"
          role="dialog"
          tabindex="-1"
        >
          <div class="modal-instruction modal-dialog-centered" role="document">
            <div class="modal-content text-center">
              <div class="modal-body modal-guide-body">
                <img
                  class="button-modal-close"
                  onclick="closeModal()"
                  src="/v2/gateway/images/navigation-close-circle.svg"
                />
                <div class="title">
                  <div>
                    <h5 class="">Hướng dẫn quét mã QR</h5>
                  </div>
                </div>
                <div class="modal-container">
                  <div class="momo">
                    <h5 class="title">Quét mã bằng MoMo</h5>
                    <div
                      style="position: relative; display: inline-block"
                      class="image"
                    >
                      <img
                        style="width: 104%"
                        src="/v2/gateway/images/qr-instruction-momo.png"
                        alt=""
                      />
                      <img
                        class="arrow"
                        src="/v2/gateway/images/qr-instruction-arrow.png"
                        alt=""
                      />
                    </div>
                    <img
                      class="image"
                      src="/v2/gateway/images/qr-instruction-momo2.png"
                      alt=""
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <form id="main-form" action="" method="post">
          <input
            type="hidden"
            name="_csrf"
            value="29c3e243-c961-4969-b568-3be976987e78"
          />
          <div class="row" id="qr-web-ui">
            <div class="col-lg-4 payment-form" id="orderInfo">
              <div>
                <div class="info-content">
                  <div class="payment-info payment-info-bottom">
                    <div class="payment-title">
                      <h1>Thông tin đơn hàng</h1>
                    </div>
                    <div class="payment-detail">
                      <div>
                        <div class="box-detail">
                          <h4>Nhà cung cấp</h4>
                          <div class="two-box">
                            <img
                              class="merchant-logo"
                              src="images/logo/logo.png"
                              loading="lazy"
                            />
                            <p class="merchant-name">MoMo Payment</p>
                          </div>
                        </div>

                        <div class="line-detail"></div>
                        <div class="box-detail">
                          <h4>Mã đơn hàng</h4>
                          <p
                            class="ellipsis"
                            data-toggle="tooltip"
                            data-placement="top"
                            data-animation="true"
                          >
                            47fc3e57-229e-4707-9093-cd6100ae388d
                          </p>
                        </div>

                        <div class="box-detail">
                          <div class="line-detail"></div>
                          <h4>Mô tả</h4>
                          <p
                            class="ellipsis"
                            data-toggle="tooltip"
                            data-placement="top"
                            data-animation="true"
                          >
                            Thanh toán vé sự kiện
                          </p>
                        </div>

                        <div class="provider-info mb-3 mb-lg-4 mb-sm-3"></div>
                      </div>

                      <div class="line-detail"></div>
                      <div class="box-detail">
                        <h4>Số tiền</h4>
                        <h3>7.900.000đ</h3>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="expire-content mb-3">
                  <div class="box-expire">
                    <div class="expire-text">
                      <p>
                        Đơn hàng sẽ hết hạn sau: <br />
                        <span
                          class="font-weight-bold time-expire-text d-inline-flex"
                          name="expiredAt"
                          ><div class="time-box">
                            01<br />
                            <p>Giờ</p>
                          </div>
                          <div class="time-box">
                            39<br />
                            <p>Phút</p>
                          </div>
                          <div class="time-box">
                            33<br />
                            <p>Giây</p>
                          </div></span
                        >
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-center my-3 font-size-14">
                <div class="black12-color mr-1 d-inline hover">
                  Gặp khó khăn khi thanh toán?
                </div>
                <a
                  class="blue-color font-weight-bold-600 hover-none-decoration"
                  href="#"
                  onclick="return showModal()"
                  >Xem Hướng dẫn</a
                >
              </div>
              <div class="text-center my-3 font-size-14 font-weight-bold-600">
                <a
                  class="momo-color backButton hover-momo-color hover-none-decoration"
                  href="#"
                  >Quay về</a
                >
              </div>
            </div>
            <div class="col-lg-8 payment-form" id="form-qr-code">
              <div class="payment-content" id="body-payment-content">
                <div class="payment-info">
                  <h1>Phương thức thanh toán</h1>
                  <div class="col-sm-12 mx-auto">
                    <div class="m-hide pb-4 col-sm-10 mx-auto">
                      <div class="momo-mark">
                        <img
                          class="img-momo-mark rounded float-left"
                          src="/v2/gateway/images/img-momo.svg"
                        />
                        <a
                          >Bạn đang sử dụng giải pháp thanh toán được xây dựng
                          và cung cấp bởi MoMo</a
                        >
                      </div>
                    </div>
                    <div class="payment-method-item">
                      <label for="pay-momo">
                        <img
                          src="/v2/gateway/images/logo-momo.png"
                          alt="MOMO"
                        />
                        <span>Thanh toán bằng Ví MoMo</span>
                      </label>
                      <input
                        id="pay-momo"
                        type="radio"
                        value="QR"
                        name="payType"
                        checked="checked"
                      />
                    </div>

                    <div class="payment-method-item">
                      <label for="pay-atm">
                        <img
                          src="/v2/gateway/images/credit/atm.svg"
                          alt="ATM"
                        />
                        <span>Thanh toán bằng thẻ ATM &nbsp;</span>
                      </label>
                      <input
                        id="pay-atm"
                        type="radio"
                        value="NAPAS"
                        name="payType"
                      />
                    </div>
                    <div class="payment-method-item">
                      <label for="pay-visa">
                        <img
                          src="/v2/gateway/images/credit/logo-visa-master-jcb.svg"
                          alt="VISA"
                        />
                        <span class="pay-visa-label-lg"
                          >Thanh toán bằng VISA/Master/JCB &nbsp;</span
                        >
                        <span class="pay-visa-label-sm"
                          >Thanh toán VISA/Master/JCB &nbsp;</span
                        >
                      </label>

                      <input
                        id="pay-visa"
                        type="radio"
                        value="CREDIT"
                        name="payType"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group button-clink col-lg-4 float-right">
                <button
                  type="submit"
                  class="btn btn-primary btn-momo link external font-weight-bold-600"
                  id="nextBtn"
                >
                  Tiếp tục
                </button>
              </div>
              <input
                type="hidden"
                value="TU9NT3w0N2ZjM2U1Ny0yMjllLTQ3MDctOTA5My1jZDYxMDBhZTM4OGQ"
                id="requestId"
                name="requestId"
              />
              <input
                type="hidden"
                value=""
                id="paymentLinkUrl"
                name="paymentLinkUrl"
              />
              <input
                id="input-amount-hidden"
                type="hidden"
                name="amount"
                value="7900000"
              />
            </div>
          </div>
        </form>
        <form
          action="/v2/gateway/action"
          id="cancel-payment-form"
          method="post"
          novalidate=""
        >
          <input
            name="_csrf"
            value="29c3e243-c961-4969-b568-3be976987e78"
            type="hidden"
          />
          <input
            name="sessionId"
            value="TU9NT3w0N2ZjM2U1Ny0yMjllLTQ3MDctOTA5My1jZDYxMDBhZTM4OGQ"
            type="hidden"
          />
          <input
            name="mToken"
            value="+1LmAWw/z/rtqa0bnDyaWGvhWgZ/MFAV+k+xLXZSp0gaf7C6FdGZTJ196f3lIbu1gKOFotzZ4rxyVeO7QxDh7Q=="
            type="hidden"
          />
          <div class="form-group col-sm-4">
            <button
              class="btn btn-momo-cancel"
              id="btn-momo-cancel"
              name="action"
              style="display: none"
              type="submit"
              value="cancel"
            >
              Quay lại
            </button>
            <button
              id="btn-momo-expire"
              name="action"
              style="display: none"
              type="submit"
              value="expire"
            >
              Expire
            </button>
          </div>
        </form>
      </div>

      <script
        async=""
        src="https://www.googletagmanager.com/gtag/js?id=G-XLJFKD4ESD"
      ></script>
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
          dataLayer.push(arguments);
        }

        gtag("js", new Date());

        gtag("config", "G-XLJFKD4ESD");
      </script>
      <script src="/v2/gateway/sh/scripts/binding/phone.js"></script>
      <script>
        var offset = 6000501;
        var second = offset / 1000;
        var countdown = parseInt(second);
        var offset = 6000501;
        var retry = 500;
        var isTablet = false;
        var device;
        var userInfoArray = [];
        if (false) {
          device = "mobile";
        } else if (false) {
          device = "tablet";
        } else device = "desktop";

        function closeCommonModalAndSendEvent() {
          gtag("event", "aiopgw_paymodel_momowallet", {
            action: "click_close_pu_walletpgw",
            device: device,
          });
          $(".common-modal").remove();
        }

        $("#payByMomoAppTablet").click(function () {
          openApp();
        });

        $("#openAppStoreTablet").click(function () {
          openStore();
          return false;
        });

        function back() {
          gtag("event", "aiopgw_paymodel_momowallet", {
            action: "click_cancel_pu_walletpgw",
            device: device,
          });
          $("#btn-momo-cancel").click();
        }

        const inputUserName = $("#input-name");
        if (inputUserName.length !== 0 && !inputUserName[0].disabled) {
          userInfoArray.push({
            inputField: inputUserName,
            pattern: "^([a-zA-Z]+)((\\s{1,}[a-zA-Z]+){0,})(\\s*)$",
            fbEmpty: $("#feedback-username-empty"),
            fbValid: $("#feedback-username-valid"),
          });
        }

        const inputUserPhone = $("#input-phone");
        if (inputUserPhone.length !== 0 && !inputUserPhone[0].disabled) {
          userInfoArray.push({
            inputField: inputUserPhone,
            validateFunction: isValidPhoneNumber,
            fbEmpty: $("#feedback-userphone-empty"),
            fbValid: $("#feedback-userphone-valid"),
          });
        }

        const inputUserEmail = $("#input-email");
        if (inputUserEmail.length !== 0 && !inputUserEmail[0].disabled) {
          userInfoArray.push({
            inputField: inputUserEmail,
            pattern: "[^@\\s]+@[^@\\s]+\\.[^@\\s]+",
            fbEmpty: $("#feedback-useremail-empty"),
            fbValid: $("#feedback-useremail-valid"),
          });
        }

        function removeAccents(s) {
          return s
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "")
            .replace("ê", "e")
            .replace("Ê", "E")
            .replace("đ", "d")
            .replace("Đ", "D");
        }

        function isInvalidUserInput() {
          for (const field of userInfoArray) {
            if (!field.inputField.val()) {
              field.fbEmpty.css("display", "block");
              if (field.fbValid) {
                field.fbValid.css("display", "none");
              }
              field.inputField.focus();
              return true;
            } else {
              field.fbEmpty.css("display", "none");
              if (field.fbValid) {
                let isInValid = field.pattern
                  ? !removeAccents(field.inputField.val()).match(field.pattern)
                  : field.validateFunction
                  ? !field.validateFunction(field.inputField.val())
                  : false;
                if (isInValid) {
                  field.fbValid.css("display", "block");
                  field.fbEmpty.css("display", "none");
                  field.inputField.focus();
                  return true;
                } else {
                  field.fbValid.css("display", "none");
                }
              }
            }
          }
        }

        $("#nextBtn").click(function () {
          if (isInvalidUserInput()) {
            return false;
          } else {
            $("#main-form").submit();
          }
        });

        (document.onreadystatechange = function () {
          "complete" == document.readyState &&
            setTimeout(function () {
              document.getElementById("interactive"),
                document.getElementById("load").remove(),
                document.getElementById("contents").classList.remove("d-none");
            }, 1e3);
        }),
          $(document).ready(function () {
            var e = offset / 1e3,
              t = parseInt(e),
              n = setInterval(function () {
                var d = parseInt(e / 86400),
                  b = parseInt((e - d * 86400) / 3600),
                  a = parseInt((e - d * 86400 - b * 3600) / 60),
                  c = parseInt(e - 60 * a - b * 3600 - d * 86400);
                e--,
                  t--,
                  a < 10 && (a = "0" + a),
                  b < 10 && (b = "0" + b),
                  c < 10 && (c = "0" + c);
                if (d > 0) {
                  d < 10 && (d = "0" + d);
                  $("span[name=expiredAt]").html(
                    '<div class="time-box">' +
                      d +
                      "<br>" +
                      "<p>" +
                      "Ngày" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      b +
                      "<br>" +
                      "<p>" +
                      "Giờ" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      a +
                      "<br>" +
                      "<p>" +
                      "Phút" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      c +
                      "<br>" +
                      "<p>" +
                      "Giây" +
                      "</p>" +
                      "</div>"
                  ),
                    $("b[name=expiredAt]").html(
                      d +
                        " Ngày : " +
                        b +
                        " Giờ : " +
                        a +
                        " Phút : " +
                        c +
                        " Giây "
                    );
                }

                if (d <= 0 && b > 0) {
                  $("span[name=expiredAt]").html(
                    '<div class="time-box">' +
                      b +
                      "<br>" +
                      "<p>" +
                      "Giờ" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      a +
                      "<br>" +
                      "<p>" +
                      "Phút" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      c +
                      "<br>" +
                      "<p>" +
                      "Giây" +
                      "</p>" +
                      "</div>"
                  ),
                    $("b[name=expiredAt]").html(
                      b + " Giờ : " + a + " Phút : " + c + " Giây "
                    );
                }

                if (d <= 0 && b <= 0) {
                  $("span[name=expiredAt]").html(
                    '<div class="time-box">' +
                      a +
                      "<br>" +
                      "<p>" +
                      "Phút" +
                      "</p>" +
                      "</div>" +
                      '<div class="time-box">' +
                      c +
                      "<br>" +
                      "<p>" +
                      "Giây" +
                      "</p>" +
                      "</div>"
                  ),
                    $("b[name=expiredAt]").html(a + " Phút : " + c + " Giây ");
                }

                t <= 0 &&
                  (clearInterval(n),
                  document.getElementById("btn-momo-expire").click());
              }, 1e3);
            $.ajaxSetup({ cache: !1 });
            setUpDevice();
            setUpUI();
          });

        function redirect(data) {
          if (data.return_url) {
            window.location.replace(data.return_url);
          } else if (data.returnUrl) {
            window.location.replace(data.returnUrl);
          }
        }

        function openApp() {
          //Fallback;
          gtag("event", "aiopgw_paymodel_momowallet", {
            action: "click_payapp_scr_walletpgw",
            device: device,
          });
          if (false == null) {
            window.location.href = null;
            setTimeout(function () {
              openStore();
            }, 1000);
          } else {
            window.location.href = null;
          }
        }

        function openStore() {
          //Fallback;
          setTimeout(function () {
            window.location.href =
              "market:\/\/details?id=com.mservice.momotransfer";
          }, 100);
        }

        function executeXML() {
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function () {
            if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
              // Typical action to be performed when the document is ready:
              var data = JSON.parse(xhttp.responseText);
              if (data.redirect) {
                if (data.status_code == "0") {
                  gtag("event", "aiopgw_paymodel_momowallet", {
                    action: "scan_qrc_scr_walletpgw",
                    device: device,
                    result: "success",
                  });
                } else {
                  gtag("event", "aiopgw_paymodel_momowallet", {
                    action: "scan_qrc_scr_walletpgw",
                    device: device,
                    result: "fail",
                  });
                }
                redirect(data);
              } else {
                if (retry > 0) setTimeout(executeXML, 4000);
                retry--;
              }
            }
          };
          xhttp.open("POST", "/v2/gateway/querySession", true);
          xhttp.setRequestHeader(
            "X-CSRF-TOKEN",
            "29c3e243-c961-4969-b568-3be976987e78"
          );
          if ("payWithMethod" == "topUp") {
            let webURL = {
              t: "TU9NT3w0N2ZjM2U1Ny0yMjllLTQ3MDctOTA5My1jZDYxMDBhZTM4OGQ",
              s: "fc81df012b169cf499e45a7a932a2dba2ca95bdc5804c123d8cb30936f18b637",
            };
            xhttp.setRequestHeader(
              "Content-Type",
              "application/json;charset=UTF-8"
            );
            xhttp.send(JSON.stringify(webURL));
          } else {
            xhttp.send();
          }
        }

        $(document).ready(function () {
          $.ajaxSetup({
            cache: false,
          });
          setTimeout(executeXML, 4000);
        });

        function showModal() {
          gtag("event", "aiopgw_paymodel_momowallet", {
            action: "click_guide_scr_walletpgw",
            device: device,
          });
          $(".modal-background").css("display", "block");
        }

        function closeModal() {
          $(".modal-background").css("display", "none");
        }

        function setUpDevice() {
          if (!isTablet) {
            $(".tablet-ui").remove();
            document.documentElement.style.setProperty(
              "--footer-header-height",
              $("#header").height() + $("#footer").height() + "px"
            );
          }
        }

        function setUpUI() {
          if ("7.900.000" == 0 || "payWithMethod" == "subscription") {
            var expireText = $(
              "<div class='expire-content mb-3'> <div class='box-expire' style='width: 350px; margin: auto'> <div class='expire-text'><p>Đơn hàng sẽ hết hạn sau: <span class='font-weight-bold time-expire-text d-inline-flex' name='expiredAt'></span></p></div></div></div>"
            );
            var instruction = $(
              "<div class='text-center my-3 font-size-14'><div class='black12-color mr-1 d-inline'>Gặp khó khăn khi thanh toán?</div><a onclick='return showModal()' class='blue-color font-weight-bold-600 hover-none-decoration' href='#'>Xem Hướng dẫn</a></div>"
            );
            if ("payWithMethod" == "topUp") {
              expireText = $(
                "<div class='expire-content mb-3'> <div class='box-expire' style='width: 350px; margin: auto'> <div class='expire-text'><p>Hết hạn sau: <span class='font-weight-bold time-expire-text d-inline-flex' name='expiredAt'></span></p></div></div></div>"
              );
              instruction = $(
                "<div class='text-center my-3 font-size-14'><div class='black12-color mr-1 d-inline'>Gặp khó khăn khi thực hiện?</div><a onclick='return showModal()' class='blue-color font-weight-bold-600 hover-none-decoration' href='#'>Xem Hướng dẫn</a></div>"
              );
            }
            var backButtonObjectRender = $(
              "<div class='text-center my-3 font-size-14 font-weight-bold-600'><a class='momo-color backButton hover-momo-color hover-none-decoration' href='#'>Quay về</a></div>"
            );

            $(".payment-qr").css("padding", "30px 0px 30px 0px");

            $("#orderInfo").remove();
            $("#momo-mark").remove();
            $("#form-qr-code").removeClass("col-lg-8");

            isTablet
              ? $("#form-qr-code").addClass("col-lg-12")
              : $("#form-qr-code").addClass("col-lg-12");

            $(".payment-qr")
              .append(expireText)
              .append(instruction)
              .append(backButtonObjectRender);
          }

          $(".backButton").click(function () {
            gtag("event", "aiopgw_paymodel_momowallet", {
              action: "click_back_scr_walletpgw",
              device: device,
            });

            if ("payWithMethod" == "linkWallet") {
              stringPartner =
                " Bạn chắc chắn muốn hủy phiên liên kết <strong> Ví MoMo </strong> với " +
                "<strong>" +
                "MoMo Payment" +
                "</strong>" +
                "  hiện tại?";
              showCommonModal(
                "Hủy phiên liên kết dịch vụ",
                stringPartner,
                "HỦY PHIÊN",
                "return back()",
                "ĐÓNG",
                "return closeCommonModalAndSendEvent()"
              );
              return false;
            }

            if ("payWithMethod" == "topUp") {
              stringPartner = " Bạn chắc chắn muốn rời khỏi trang quét mã này?";
              showCommonModal(
                "Rời khỏi trang quét mã?",
                stringPartner,
                "ĐỒNG Ý",
                "return back()",
                "ĐÓNG",
                "return closeCommonModalAndSendEvent()"
              );
              return false;
            }

            if ("payWithMethod" == "payWithMethod") {
              location.reload();
              return false;
            }

            stringPartner =
              "Bạn chắc chắn muốn hủy giao dịch thanh toán với " +
              "<strong>" +
              "MoMo Payment" +
              "</strong>" +
              "?";
            showCommonModal(
              "Huỷ giao dịch thanh toán",
              stringPartner,
              "HUỶ GIAO DỊCH",
              "return back()",
              "ĐÓNG",
              "return closeCommonModalAndSendEvent()"
            );
            return false;
          });
        }
      </script>
      <script src="/v2/gateway/sh/scripts/core.js"></script>
      <script src="/v2/gateway/sh/scripts/pay_later_item.js"></script>
    </div>
    <div>
      <footer id="footer">
        <div class="container">
          <div class="footer-wrapper">
            <div class="footer-wrap-version">
              <span>© 2023 - Cổng thanh toán MoMo</span>
            </div>

            <div class="footer-wrap-info">
              <span>Hỗ trợ khách hàng:</span>
              <a class="momo-phone-icon" href="tel:1900545441"
                >1900 54 54 41 (1000đ/phút)</a
              >
              <a class="momo-mail-icon" href="mailto:hotro@momo.vn"
                >hotro@momo.vn</a
              >
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script>
      if (window.history.replaceState) {
        window.history.replaceState(null, null, window.location.href);
      }
    </script>
  </body>
</html>
